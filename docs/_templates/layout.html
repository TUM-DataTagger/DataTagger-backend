{% extends "!layout.html" %}
{% block extrahead %}
    <link href="{{ pathto("_static/style.css", True) }}" rel="stylesheet" type="text/css">
    <link href="{{ pathto("_static/leaflet/leaflet.css", True) }}" rel="stylesheet" type="text/css">
{% endblock %}

{% block footer %}
    <script src="{{ pathto("_static/leaflet/leaflet.js", True) }}" type="text/javascript"></script>
    <script>
        var map = L.map('image-map', {
          minZoom: 1,
          maxZoom: 5,
          center: [0, 0],
          zoom: 2,
          crs: L.CRS.Simple
        });

        // dimensions of the image
        var w = 1887,
            h = 1883,
            url = '../_static/schema.svg';

        // calculate the edges of the image, in coordinate space
        var southWest = map.unproject([0, h], map.getMaxZoom()-1);
        var northEast = map.unproject([w, 0], map.getMaxZoom()-1);
        var bounds = new L.LatLngBounds(southWest, northEast);

        // add the image overlay,
        // so that it covers the entire map
        L.imageOverlay(url, bounds).addTo(map);

        // tell leaflet that the map is exactly as big as the image
        map.setMaxBounds(bounds);
    </script>
{% endblock %}
